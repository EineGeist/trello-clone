(this["webpackJsonptrello-clone"]=this["webpackJsonptrello-clone"]||[]).push([[0],{23:function(e,t,a){"use strict";a.d(t,"preventClickDefault",(function(){return n})),a.d(t,"HORIZONTAL_SCROLLING_SPEED_FACTOR",(function(){return r}));a(41);var n=function(e){return e.preventDefault()},r=.75},41:function(e,t){},50:function(e,t,a){e.exports=a(81)},60:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(19),i=a.n(l),o=a(4),d=a(12),s=a(3),u=(a(59),a(60),a(10)),b=a(43),E=a(44),m=a(45),f=function(){try{var e=JSON.stringify(Q.getState());localStorage.setItem("state",e)}catch(t){return}},O=a.n(m)()((function(){Q.subscribe(f)}),1e3),j=a(16),v=a(24),I=a(17),p=a(8),C=a(2);!function(e){e.CREATE_BOARD="CREATE_BOARD",e.DELETE_BOARD="DELETE_BOARD",e.CHANGE_BOARD="CHANGE_BOARD",e.MOVE_LIST="MOVE_LIST"}(n||(n={}));var T;n.CREATE_BOARD,n.CHANGE_BOARD,n.DELETE_BOARD,n.MOVE_LIST;!function(e){e.CREATE_LIST="CREATE_LIST",e.DELETE_LIST="DELETE_LIST",e.CHANGE_LIST="CHANGE_LIST",e.MOVE_CARD="MOVE_CARD"}(T||(T={}));T.CREATE_LIST,T.DELETE_LIST,T.CHANGE_LIST,T.MOVE_CARD;var D,A=n.CREATE_BOARD,y=n.DELETE_BOARD,R=n.CHANGE_BOARD,g=n.MOVE_LIST,_=T.CREATE_LIST,N=T.DELETE_LIST,L={byId:{},allIds:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case A:var r=n,c=r.boardId,l=r.title,i=Object(C.a)(Object(C.a)({},e.byId),{},Object(p.a)({},c,{id:c,title:l,lists:[]}));return Object(C.a)(Object(C.a)({},e),{},{byId:i,allIds:[].concat(Object(I.a)(e.allIds),[c])});case y:var o=n,d=o.boardId,s=e.byId,u=(s[d],Object(j.a)(s,[d].map(v.a))),b=e.allIds.filter((function(e){return e!==d}));return Object(C.a)(Object(C.a)({},e),{},{byId:u,allIds:b});case R:var E=n,m=E.boardId,f=E.title,O=Object(C.a)(Object(C.a)({},e.byId),{},Object(p.a)({},m,Object(C.a)(Object(C.a)({},e.byId[m]),{},{title:f})));return Object(C.a)(Object(C.a)({},e),{},{byId:O});case g:var T=n,D=T.boardId,S=T.fromIndex,h=T.toIndex,k=Object(C.a)({},e.byId),x=Object(C.a)({},k[D]),B=Object(I.a)(x.lists),w=B.splice(S,1);return B.splice.apply(B,[h,0].concat(Object(I.a)(w))),x.lists=B,k[D]=x,Object(C.a)(Object(C.a)({},e),{},{byId:k});case _:var H=n,M=H.boardId,G=H.listId,V=Object(C.a)({},e.byId[M]);V.lists=[].concat(Object(I.a)(V.lists),[G]);var P=Object(C.a)(Object(C.a)({},e.byId),{},Object(p.a)({},M,V));return Object(C.a)(Object(C.a)({},e),{},{byId:P});case N:var F=n,z=F.boardId,J=F.listId,W=Object(C.a)({},e.byId[z]);W.lists=W.lists.filter((function(e){return e!==J}));var Z=Object(C.a)(Object(C.a)({},e.byId),{},Object(p.a)({},z,W));return Object(C.a)(Object(C.a)({},e),{},{byId:Z});default:return e}};!function(e){e.CREATE_CARD="CREATE_CARD",e.DELETE_CARD="DELETE_CARD",e.CHANGE_CARD="CHANGE_CARD"}(D||(D={}));D.CREATE_CARD,D.DELETE_CARD,D.CHANGE_CARD;var h=T.CREATE_LIST,k=T.DELETE_LIST,x=T.CHANGE_LIST,B=T.MOVE_CARD,w=D.CREATE_CARD,H=D.DELETE_CARD,M=n.DELETE_BOARD,G={},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h:var r=n,c=r.listId,l=r.title;return Object(C.a)(Object(C.a)({},e),{},Object(p.a)({},c,{id:c,title:l,cards:[]}));case k:var i=n,o=i.listId,d=(e[o],Object(j.a)(e,[o].map(v.a)));return Object(C.a)({},d);case x:var s=n,u=s.listId,b=s.title;return Object(C.a)(Object(C.a)({},e),{},Object(p.a)({},u,Object(C.a)(Object(C.a)({},e[u]),{},{title:b})));case w:var E=n,m=E.listId,f=E.cardId,O=Object(C.a)({},e[m]);return O.cards=[].concat(Object(I.a)(O.cards),[f]),Object(C.a)(Object(C.a)({},e),{},Object(p.a)({},m,O));case H:var T=n,D=T.listId,A=T.cardId,y=Object(C.a)({},e[D]);return y.cards=y.cards.filter((function(e){return e!==A})),Object(C.a)(Object(C.a)({},e),{},Object(p.a)({},D,y));case B:var R,g=n,_=g.fromListId,N=g.toListId,L=g.fromIndex,S=g.toIndex,V=Object(C.a)({},e),P=Object(C.a)({},V[_]);P.cards=Object(I.a)(P.cards);var F=P.cards.splice(L,1);V[_]=P;var z=Object(C.a)({},V[N]);return z.cards=Object(I.a)(z.cards),(R=z.cards).splice.apply(R,[S,0].concat(Object(I.a)(F))),V[N]=z,V;case M:var J=n,W=J.listsIds,Z={};for(var Y in e)e.hasOwnProperty(Y)&&!W.includes(Y)&&(Z[Y]=e[Y]);return Z;default:return e}},P=D.CREATE_CARD,F=D.DELETE_CARD,z=D.CHANGE_CARD,J=T.DELETE_LIST,W=n.DELETE_BOARD,Z={},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case P:var r=n,c=r.cardId,l=r.content;return Object(C.a)(Object(C.a)({},e),{},Object(p.a)({},c,{id:c,content:l}));case F:var i=n,o=i.cardId,d=(e[o],Object(j.a)(e,[o].map(v.a)));return Object(C.a)({},d);case z:var s=n,u=s.cardId,b=s.content;return Object(C.a)(Object(C.a)({},e),{},Object(p.a)({},u,Object(C.a)(Object(C.a)({},e[u]),{},{content:b})));case J:var E=n,m=E.cardsIds,f={};for(var O in e)e.hasOwnProperty(O)&&!m.includes(O)&&(f[O]=e[O]);return f;case W:var I=n,T=I.cardsIds,D={};for(var A in e)e.hasOwnProperty(A)&&!T.includes(A)&&(D[A]=e[A]);return D;default:return e}},q=Object(u.combineReducers)({boards:S,lists:V,cards:Y}),K=[E.a],Q=Object(u.createStore)(q,function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(t){return}}(),Object(b.composeWithDevTools)(u.applyMiddleware.apply(void 0,K))),U=(a(70),function(){return c.a.createElement("header",{className:"site-header"},c.a.createElement("nav",{className:"site-navigation"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(d.c,{to:"/",exact:!0},"Home")),c.a.createElement("li",null,c.a.createElement(d.c,{to:"/boards"},"Boards")))))}),X=(a(72),Object(r.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,r=Object(j.a)(e,["className"]),l="button";return n&&(l+=" "+n),c.a.createElement("button",Object.assign({className:l},r,{ref:t}))}))),$=a(11),ee=a(99),te=(a(73),Object(r.forwardRef)((function(e,t){var a=e.labelValue,n=void 0!==a&&a,l=e.isInvalid,i=void 0!==l&&l,o=e.className,d=e.value,s=Object(j.a)(e,["labelValue","isInvalid","className","value"]),u=Object(r.useState)(!!d),b=Object($.a)(u,2),E=b[0],m=b[1];Object(r.useEffect)((function(){m(!!d)}),[d]);var f="textarea";i&&(f+=" invalid"),n&&E&&(f+=" hide-label"),o&&(f+=" "+o);var O=Object(C.a)(Object(C.a)({className:f,spellCheck:!1,value:d},s),{},{ref:t});return c.a.createElement("div",{className:"textarea-container"},n?c.a.createElement("label",{className:"label"},c.a.createElement("span",{className:"label-value".concat(E?" hide":"")},n),c.a.createElement(ee.a,Object.assign({},O,{ref:t}))):c.a.createElement(ee.a,Object.assign({},O,{ref:t})))}))),ae=a(23),ne=a(95),re=a(96),ce=a(97),le=a(98),ie=(a(74),function(e){var t=e.fieldName,a=e.displayOnViewMode,n=e.value,l=void 0===n?"":n,i=e.initialEditMode,o=void 0!==i&&i,d=e.editMode,s=e.useIconToggler,u=void 0!==s&&s,b=e.onSubmit,E=e.onDelete,m=e.onEditToggle,f=Object(r.useState)(null!==d&&void 0!==d?d:o),O=Object($.a)(f,2),j=O[0],v=O[1],I=Object(r.useState)(l),p=Object($.a)(I,2),C=p[0],T=p[1],D=Object(r.useRef)(null),A=!C.trim(),y=function(){T(l),v(!j),m&&m()},R=function(){var e=C.trim();e&&(l!==e&&(l=e,b(e)),y())};return Object(r.useEffect)((function(){var e;j&&(null===(e=D.current)||void 0===e||e.focus())}),[j]),c.a.createElement("form",{className:"field-editor".concat(j?" edit":"")},!j&&!u&&c.a.createElement("button",{className:"click-overlay",onClick:y,title:"Edit"}),c.a.createElement(te,{labelValue:t,title:j?t:void 0,isInvalid:A,value:a&&!j?a:C,rowsMax:3,disabled:!j,required:!0,onChange:function(e){var t=e.target.value.replace(/\r\n|\r|\n/gm," ");T(t)},onKeyDown:function(e){"Escape"===e.key&&y(),"Enter"===e.key&&(e.preventDefault(),R())},ref:D}),!j&&u&&c.a.createElement("div",{className:"edit-button-container",onClick:ae.preventClickDefault},c.a.createElement(X,{title:"Edit",className:"field-editor-button edit-button",onClick:y},c.a.createElement(ne.a,{fontSize:"inherit"}))),c.a.createElement("div",{className:"buttons-container",onClick:ae.preventClickDefault},j&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(X,{title:"Submit",className:"field-editor-button submit-button",onClick:R,disabled:A},c.a.createElement(re.a,{fontSize:"inherit"})),c.a.createElement(X,{className:"field-editor-button",title:"Cancel",onClick:y},c.a.createElement(ce.a,{fontSize:"inherit"}))),E&&c.a.createElement(X,{className:"field-editor-button",title:"Delete",onClick:E},c.a.createElement(le.a,{fontSize:"inherit"})))))}),oe=(a(75),function(){return c.a.createElement("main",{className:"home-page"},c.a.createElement("h1",null,"Trello clone"),c.a.createElement(d.b,{to:"/boards"},c.a.createElement(X,null,"Get started")))}),de=(a(76),a(77),a(15)),se=a(100),ue=T.CREATE_LIST,be=T.DELETE_LIST,Ee=T.CHANGE_LIST,me=T.MOVE_CARD,fe=n.CREATE_BOARD,Oe=n.DELETE_BOARD,je=n.CHANGE_BOARD,ve=n.MOVE_LIST,Ie=(a(78),D.CREATE_CARD),pe=D.DELETE_CARD,Ce=D.CHANGE_CARD,Te=Object(r.memo)((function(e){var t=e.index,a=e.id,n=e.onDelete,i=e.onEdit,o=Object(s.d)((function(e){return e.cards[a].content})),d=function(){return n(a)},u=function(e){return i(a,e)},b=Object(r.useState)(!0),E=Object($.a)(b,2),m=E[0],f=E[1],O=function(){return f(!m)};return c.a.createElement(de.b,{draggableId:a,index:t,disableInteractiveElementBlocking:m},(function(e){return t=e.draggableProps.style,a=c.a.createElement("div",Object.assign({className:"card"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),c.a.createElement(ie,{fieldName:"Text",value:o,onSubmit:u,onDelete:d,onEditToggle:O})),"fixed"!==t.position?a:Object(l.createPortal)(a,document.getElementById("draggable"));var t,a}))})),De=Object(r.memo)((function(e){var t=e.onCreate,a=Object(r.useState)(!1),n=Object($.a)(a,2),l=n[0],i=n[1];return c.a.createElement("div",{className:"card new-card"},c.a.createElement(ie,{fieldName:"Text",editMode:l,displayOnViewMode:"New Card",onEditToggle:function(){return i(!l)},onSubmit:t}))})),Ae=Object(r.memo)((function(e){var t=e.listId,a=Object(s.c)(),n=Object(s.d)((function(e){var a;return(null===(a=e.lists[t])||void 0===a?void 0:a.cards)||[]})),l=Object(r.useCallback)((function(e){return a(function(e,t){return{type:Ie,payload:{listId:e,cardId:Object(se.a)(),content:t}}}(t,e))}),[a,t]),i=Object(r.useCallback)((function(e){return a(function(e,t){return{type:pe,payload:{listId:e,cardId:t}}}(t,e))}),[a,t]),o=Object(r.useCallback)((function(e,t){return a(function(e,t){return{type:Ce,payload:{cardId:e,content:t}}}(e,t))}),[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(de.c,{droppableId:t,type:"card"},(function(e){return c.a.createElement("ul",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"list-of-cards"}),n.map((function(e,t){return c.a.createElement("li",{key:e},c.a.createElement(Te,{index:t,id:e,onDelete:i,onEdit:o}))})),e.placeholder)})),c.a.createElement(De,{onCreate:l}))})),ye=Object(r.memo)((function(e){var t=e.index,a=e.id,n=e.onEdit,l=e.onDelete,i=function(){return l(a)},o=function(e){return n(a,e)},d=Object(s.d)((function(e){return e.lists[a].title})),u=Object(r.useState)(!0),b=Object($.a)(u,2),E=b[0],m=b[1],f=function(){return m(!E)};return c.a.createElement(de.b,{draggableId:a,index:t,disableInteractiveElementBlocking:E},(function(e){return c.a.createElement("div",Object.assign({className:"list"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),c.a.createElement("header",null,c.a.createElement(ie,{fieldName:"Title",value:d,onDelete:i,onSubmit:o,onEditToggle:f})),c.a.createElement(Ae,{listId:a}))}))})),Re=function(e){var t=e.onCreate;return c.a.createElement("div",{className:"list new-list"},c.a.createElement(ie,{fieldName:"Title",onSubmit:t,displayOnViewMode:"New List"}))},ge=Object(r.memo)((function(e){var t=e.boardId,a=Object(s.d)((function(e){var a;return(null===(a=e.boards.byId[t])||void 0===a?void 0:a.lists)||[]})),n=Object(s.c)(),l=Object(r.useCallback)((function(e){return n(function(e,t){return{type:ue,payload:{boardId:e,listId:Object(se.a)(),title:t}}}(t,e))}),[n,t]),i=Object(r.useCallback)((function(e){return n(function(e,t){return function(a,n){var r=n().lists[t].cards;return a({type:be,payload:{boardId:e,listId:t,cardsIds:r}})}}(t,e))}),[t,n]),o=Object(r.useCallback)((function(e,t){return n(function(e,t){return{type:Ee,payload:{listId:e,title:t}}}(e,t))}),[n]),d=Object(r.useCallback)((function(e,a){return n(function(e,t,a){return{type:ve,payload:{boardId:e,fromIndex:t,toIndex:a}}}(t,e,a))}),[n,t]),u=Object(r.useCallback)((function(e,t,a,r){return n(function(e,t,a,n){return{type:me,payload:{fromListId:e,toListId:t,fromIndex:a,toIndex:n}}}(e,t,a,r))}),[n]);return c.a.createElement(de.a,{onDragEnd:function(e){var t=e.destination,a=e.source,n=e.type;if(t)if("card"===n){var r=a.droppableId,c=a.index,l=t.droppableId,i=t.index;if(r===l&&c===i)return;u(r,l,c,i)}else if("list"===n){if(a.index===t.index)return;d(a.index,t.index)}}},c.a.createElement("div",{className:"list-of-lists"},c.a.createElement(de.c,{droppableId:"lists",direction:"horizontal",type:"list"},(function(e){return c.a.createElement("ul",Object.assign({},e.droppableProps,{ref:e.innerRef}),a.map((function(e,t){return c.a.createElement("li",{key:e},c.a.createElement(ye,{index:t,id:e,onEdit:o,onDelete:i}))})),e.placeholder)})),c.a.createElement(Re,{onCreate:l})))})),_e=(a(79),function(e){var t=e.message,a=void 0===t?"":t,n=Object(o.f)();return c.a.createElement("main",{className:"not-found-page"},c.a.createElement("div",{className:"message"},c.a.createElement("span",{className:"error-code"},"404"),c.a.createElement("p",null,a),c.a.createElement(X,{onClick:n.goBack},"Go back")))}),Ne=function(e){var t=e.match.params.id;if(Object(s.d)((function(e){return!!e.boards.byId[t]}))){return c.a.createElement("main",{className:"board-page",onWheel:function(e){var t,a=e.target,n=e.currentTarget,r=e.deltaY;(null===(t=a)||void 0===t?void 0:t.closest(".list"))||n.scrollTo({left:n.scrollLeft+=r*ae.HORIZONTAL_SCROLLING_SPEED_FACTOR,behavior:"smooth"})}},c.a.createElement(ge,{boardId:t}))}return c.a.createElement(_e,{message:"Such board doesn't exist!"})},Le=(a(80),Object(r.memo)((function(e){var t=e.id,a=e.onEdit,n=e.onDelete,l=Object(s.d)((function(e){return e.boards.byId[t].title})),i=Object(r.useState)(!1),o=Object($.a)(i,2),u=o[0],b=o[1],E={fieldName:"Title",value:l,useIconToggler:!0,editMode:u,onEditToggle:function(){return b(!u)},onSubmit:function(e){return a(t,e)},onDelete:function(){return n(t)}};return u?c.a.createElement("div",{className:"board-link"},c.a.createElement(ie,E)):c.a.createElement(d.c,{to:"/boards/".concat(t),className:"board-link"},c.a.createElement(ie,E))}))),Se=Object(r.memo)((function(e){var t=e.onCreate;return c.a.createElement("div",null,c.a.createElement("div",{className:"board-link new-board"},c.a.createElement(ie,{fieldName:"Title",displayOnViewMode:"New Board",onSubmit:t})))})),he=function(){var e=Object(o.f)(),t=Object(s.c)(),a=Object(s.d)((function(e){return e.boards.allIds})),n=Object(r.useCallback)((function(e){return t(function(e){return{type:fe,payload:{boardId:Object(se.a)(),title:e}}}(e))}),[t]),l=Object(r.useCallback)((function(a){e.location.pathname.includes(a)&&e.push("/boards/"),t(function(e){return function(t,a){var n=a(),r=n.boards,c=n.lists,l=r.byId[e].lists,i=l.map((function(e){return c[e].cards})).flat();return t({type:Oe,payload:{boardId:e,listsIds:l,cardsIds:i}})}}(a))}),[t,e]),i=Object(r.useCallback)((function(e,a){t(function(e,t){return{type:je,payload:{boardId:e,title:t}}}(e,a))}),[t]);return c.a.createElement("nav",{className:"boards-navigation",onWheel:function(e){var t,a=e.target,n=e.currentTarget,r=e.deltaY;(null===(t=a)||void 0===t?void 0:t.closest(".field-editor.edit"))||n.scrollTo({left:n.scrollLeft+=r*ae.HORIZONTAL_SCROLLING_SPEED_FACTOR})}},c.a.createElement("ul",null,a.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement(Le,{id:e,onDelete:l,onEdit:i}))}))),c.a.createElement(Se,{onCreate:n}))};O();var ke=function(){return c.a.createElement(d.a,null,c.a.createElement(s.a,{store:Q},c.a.createElement(U,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",exact:!0,component:oe}),c.a.createElement(o.a,{path:"/boards",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(he,null),c.a.createElement(o.a,{path:"/boards/:id",component:Ne}))}}),c.a.createElement(o.a,{path:"*",render:function(){return c.a.createElement(_e,{message:"Such page doesn't exist!"})}}))))};i.a.render(c.a.createElement(r.StrictMode,null,c.a.createElement(ke,null)),document.getElementById("app"))}},[[50,1,2]]]);
//# sourceMappingURL=main.78cdc6f5.chunk.js.map